(this["webpackJsonpcar-rental-availability"]=this["webpackJsonpcar-rental-availability"]||[]).push([[0],{23:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(1),n=a.n(s),i=a(15),l=a.n(i),r=a(5),j=a(2),d=(a(23),a(10)),o=a.n(d),h=a(16),b=a(6),x=function(e){var t=new Date(e);return console.log(t.toLocaleDateString()),t.toLocaleDateString()};function u(){var e=Object(s.useState)(null),t=Object(b.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)(null),l=Object(b.a)(i,2),j=l[0],d=l[1],u=Object(s.useState)(null),O=Object(b.a)(u,2),m=O[0],p=O[1],v=Object(s.useState)([]),N=Object(b.a)(v,2),g=N[0],f=N[1],V=Object(s.useState)(""),C=Object(b.a)(V,2),T=C[0],y=C[1];Object(s.useEffect)((function(){k(),y("All")}),[]),Object(s.useEffect)((function(){if(a){d(a.VehRentalCore),p(a.VehVendorAvails);var e=A(Event,m,T);f(e)}}),[a,m,T]);var k=function(){var e=Object(h.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.cartrawler.com/ctabe/cars.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n(a[0].VehAvailRSCore);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e,t,a){var c,s;if(console.log("vehVendorAvails, venCode",t,a),t&&"All"===a)c=t.reduce((function(e,t){return e.concat(t.VehAvails)}),[]),f(c);else{if(t){var n=e.target.classList;console.log("ELSE EVENT",e),n.length?e.target.classList.remove("active"):e.target.classList.add("active"),t.filter((function(e){return e.Vendor["@Code"]===a&&(s=e.VehAvails),s}))}f(s)}return c};return Object(c.jsxs)(c.Fragment,{children:[j&&Object(c.jsxs)("div",{className:"legends",children:[Object(c.jsx)("h2",{children:"Pickup/Return information (Legend)"}),Object(c.jsx)("div",{className:"vehRental",children:Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:["PickUp Date: ",x(j["@PickUpDateTime"])]}),Object(c.jsxs)("li",{children:["Return Date: ",x(j["@ReturnDateTime"])]}),Object(c.jsxs)("li",{children:["PickUp Location: ",j.PickUpLocation["@Name"]]}),Object(c.jsxs)("li",{children:["Return Location: ",j.ReturnLocation["@Name"]]})]})})]}),m&&Object(c.jsxs)("div",{className:"vehVendor",children:[Object(c.jsx)("h2",{children:"Vendors"}),Object(c.jsx)("ul",{children:m.map((function(e,t){var a=e.Vendor["@Name"],s=e.Vendor["@Code"];return Object(c.jsxs)("li",{className:"",onClick:function(e){A(e,m,s)},children:[a," (",s,")"]},t)}))})]}),m&&g&&Object(c.jsxs)("div",{className:"vehAvails",children:[Object(c.jsx)("h2",{children:"Available Cars"}),Object(c.jsx)("main",{className:"cards",children:g.map((function(e,t){return Object(c.jsx)("article",{className:"card",children:Object(c.jsxs)(r.b,{to:{pathname:"/car-details",state:e},children:[Object(c.jsx)("img",{src:e.Vehicle.PictureURL,alt:e.Vehicle.VehMakeModel["@Name"],title:e.Vehicle.VehMakeModel["@Name"]}),Object(c.jsxs)("div",{className:"text",children:[Object(c.jsx)("h4",{children:e.Vehicle.VehMakeModel["@Name"]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"title",children:"Total Charge"}),Object(c.jsxs)("span",{className:"card-text",children:[e.TotalCharge["@CurrencyCode"]," ",e.TotalCharge["@RateTotalAmount"]," "]}),Object(c.jsx)("span",{className:"title",children:"Fuel Type"}),Object(c.jsx)("span",{className:"card-text",children:e.Vehicle["@FuelType"]}),Object(c.jsx)("span",{className:"title",children:"Passenger Quantity"}),Object(c.jsx)("span",{className:"card-text",children:e.Vehicle["@PassengerQuantity"]})]})]})]})},t)}))})]})]})}function O(){return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{children:"Car rental availability"}),Object(c.jsx)(u,{})]})}function m(){var e=Object(j.f)().state,t=e.TotalCharge,a=e.Vehicle;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Car Details"}),Object(c.jsxs)("div",{className:"vehAvails",children:[Object(c.jsx)(r.b,{to:"/",children:"Go Back to Home"}),Object(c.jsx)("main",{className:"cards",children:Object(c.jsxs)("article",{className:"card",children:[Object(c.jsx)("img",{src:a.PictureURL,alt:a.VehMakeModel["@Name"],title:a.VehMakeModel["@Name"]}),Object(c.jsxs)("div",{className:"text",children:[Object(c.jsx)("h4",{children:a.VehMakeModel["@Name"]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"title",children:"Total Charge"}),Object(c.jsxs)("span",{className:"card-text",children:[t["@CurrencyCode"]," ",t["@RateTotalAmount"]," "]}),Object(c.jsx)("span",{className:"title",children:"Air Condition"}),Object(c.jsx)("span",{className:"card-text",children:a["@AirConditionInd"]?"Available":"UnAvailable"}),Object(c.jsx)("span",{className:"title",children:"Transmission Type"}),Object(c.jsx)("span",{className:"card-text",children:a["@TransmissionType"]}),Object(c.jsx)("span",{className:"title",children:"Fuel Type"}),Object(c.jsx)("span",{className:"card-text",children:a["@FuelType"]}),Object(c.jsx)("span",{className:"title",children:"Drive Type"}),Object(c.jsx)("span",{className:"card-text",children:a["@DriveType"]}),Object(c.jsx)("span",{className:"title",children:"Passenger Quantity"}),Object(c.jsx)("span",{className:"card-text",children:a["@PassengerQuantity"]}),Object(c.jsx)("span",{className:"title",children:"Baggage Quantity"}),Object(c.jsx)("span",{className:"card-text",children:a["@BaggageQuantity"]})]})]})]})})]})]})}function p(){return Object(c.jsx)("div",{children:Object(c.jsx)(m,{})})}var v=function(){return Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(r.a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:"/car-details",component:p}),Object(c.jsx)(j.a,{path:"/",component:O,exact:!0})]})})})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,31)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),s(e),n(e),i(e)}))};l.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root")),N()}},[[30,1,2]]]);
//# sourceMappingURL=main.3dee7b7c.chunk.js.map